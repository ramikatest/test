<!DOCTYPE html>
<html lang="en">
<head>

<!-- Title -->
<title>Ramika Safaris & Tours Limited</title>

<!-- Meta -->
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="author" content="Michael Katona">
<meta name="robots" content="index, follow">

<meta name="keywords" content="Ramika Safaris and Tours, Njombe, Southern Highlands, Tanzania, travel, tourism, safari, Swahili, English, tours, wildlife, nature, adventure, cultural, explore, discover, vacation, holiday, booking, reservation, African safari, guided tours">

<meta name="description" content="Explore the beauty of Njombe and the Southern Highlands in Tanzania with Ramika Safaris and Tours. Embark on unforgettable wildlife safaris, immerse yourself in cultural experiences, and discover the wonders of nature. Book your next adventure with us and experience Tanzania like never before.">

<meta property="og:title" content="Ramika Safaris and Tours - Explore Njombe & Southern Highlands | Tanzania">
<meta property="og:description" content="Explore the beauty of Njombe and the Southern Highlands in Tanzania with Ramika Safaris and Tours. Embark on unforgettable wildlife safaris, immerse yourself in cultural experiences, and discover the wonders of nature. Book your next adventure with us and experience Tanzania like never before.">

<meta property="og:image" content="https://your-website.com/mobile/social-image.png">
<meta name="format-detection" content="telephone=no">

<meta name="twitter:title" content="Ramika Safaris and Tours - Explore Njombe & Southern Highlands | Tanzania">
<meta name="twitter:description" content="Explore the beauty of Njombe and the Southern Highlands in Tanzania with Ramika Safaris and Tours. Embark on unforgettable wildlife safaris, immerse yourself in cultural experiences, and discover the wonders of nature. Book your next adventure with us and experience Tanzania like never before.">

<meta name="twitter:image" content="https://your-website.com/mobile/social-image.png">
<meta name="twitter:card" content="summary_large_image">

<!-- Mobile Specific -->
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, minimum-scale=1, minimal-ui, viewport-fit=cover">

<!-- Favicons Icon -->
<link rel="shortcut icon" type="image/x-icon" href="logo.png">

<!-- Global CSS -->
<link href="assets/vendor/bootstrap-select/dist/css/bootstrap-select.min.css" rel="stylesheet">
<link rel="stylesheet" href="assets/vendor/bootstrap-touchspin/dist/jquery.bootstrap-touchspin.min.css">
<link rel="stylesheet" href="assets/vendor/imageuplodify/imageuploadify.min.css">
<link rel="stylesheet" href="assets/vendor/swiper/swiper-bundle.min.css">

<!-- Stylesheets -->
<link rel="stylesheet" type="text/css" href="assets/css/style.css">

<!-- Google Fonts -->
<link rel="preconnect" href="https://fonts.googleapis.com">
<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin="">
<link href="../../css2?family=Jost:ital,wght@0,100..900;1,100..900&family=McLaren&display=swap" rel="stylesheet">

</head>   
<body>
<div class="page-wrapper">

<!-- Preloader -->
<div id="preloader">
<div class="loader">
<div class="text-primary" role="status">
</div>
</div>
</div>
<!-- Preloader end-->

<!-- Header -->
<header class="header header-fixed">
<div class="header-content">
<div class="left-content">
<a href="javascript:void(0);" class="back-btn dz-icon icon-fill icon-sm">
<i class="feather icon-chevron-left"></i>
</a>
</div>
<div class="mid-content"><h5 class="title">Edit Your Profile</h5></div>
<div class="right-content"></div>
</div>
</header>
<!-- Header -->

<!DOCTYPE html>
<html lang="en">
<head>
    <!-- Your head content here -->
</head>
<body>
    <!-- Your existing HTML content -->
    <main class="page-content space-top p-b80" id="authenticated-content">
        <div class="container">
            <div class="edit-profile">
                <div class="profile-image">
                    <div class="avatar-upload">
                        <div class="avatar-preview">
                            <div id="imagePreview" style="background-image: url(user.webp);"></div>
                            <div class="change-btn">
                                <input type='file' class="form-control d-none" id="imageUpload" accept=".png, .jpg, .jpeg">
                                <label for="imageUpload">
                                    <i class="fi fi-rr-pencil"></i>
                                </label>
                            </div>
                        </div>
                    </div>	
                </div>

                <div class="m-b10 input-group input-group-icon style-2 input-lg">
                    <div class="input-group-text style-1">
                        <span class="input-icon">
                            <i class="fa fa-user-alt"></i>
                        </span>
                    </div>
                    <div class="dz-input-animate focused">
                        <label class="form-label" for="user-name">Enter Name</label>
                        <input type="text" id="user-name" class="form-control style-1" required>
                    </div>
                </div>
                <div class="m-b15 input-group input-group-icon style-2 input-lg">
                    <div class="input-group-text style-1">
                        <span class="input-icon">
                            <i class="fi fi-rr-pencil"></i>
                        </span>
                    </div>
                    <div class="dz-input-animate">
                        <label class="form-label" for="bio">Add Bio (optional)</label>
                        <input type="text" id="bio-input" class="form-control style-1">
                    </div>
                </div>
                <!-- Add other input fields as needed -->
            </div>
        </div>
    </main>
    <!-- Main Content End -->

    <!-- Footer Fixed Button -->	
    <div class="footer-fixed-btn bottom-0">
        <button id="update-profile-btn" class="btn btn-lg btn-thin btn-primary w-100">Update Profile</button>
    </div>	
    <!-- Footer Fixed Button -->

    <!-- Your existing footer content -->

    <!-- Integrating the script -->
    <script defer="" type="module">

    import { initializeApp } from "https://www.gstatic.com/firebasejs/10.7.2/firebase-app.js";
    import { getAuth, onAuthStateChanged, updateProfile } from "https://www.gstatic.com/firebasejs/10.7.2/firebase-auth.js";

    // Your web app's Firebase configuration
    const firebaseConfig = {
        apiKey: "AIzaSyCOVJY6BUHUBmzCT0fTwCFXjga21UCgliI",
        authDomain: "ramikatest-ff97c.firebaseapp.com",
        databaseURL: "https://ramikatest-ff97c-default-rtdb.firebaseio.com",
        projectId: "ramikatest-ff97c",
        storageBucket: "ramikatest-ff97c.appspot.com",
        messagingSenderId: "619432243067",
        appId: "1:619432243067:web:3241b65faa996b731cd7de"
    };

    // Initialize Firebase
    const app = initializeApp(firebaseConfig);
    const auth = getAuth(app);

    // DOM elements for authenticated users
    const userNameElement = document.getElementById("user-name");
    const userEmailElement = document.getElementById("user-email");
    const userProfilePicElement = document.getElementById("user-profile-pic");
    const bioInputElement = document.getElementById("bio-input");
    const updateProfileBtn = document.getElementById("update-profile-btn");
    const authenticatedContent = document.getElementById("authenticated-content");

    // Listen for authentication state changes
    onAuthStateChanged(auth, (user) => {
        if (user) {
            // User is signed in
            authenticatedContent.style.display = "block";
            // Display user information
            userNameElement.textContent = user.displayName;
            userEmailElement.textContent = user.email;
            userProfilePicElement.src = user.photoURL;
            // Display bio if available
            bioInputElement.value = user.bio || "";
        } else {
            // User is signed out
            authenticatedContent.style.display = "none";
            // Clear user information
            userNameElement.textContent = "";
            userEmailElement.textContent = "";
            userProfilePicElement.src = ""; // You may want to set a default image here
            bioInputElement.value = "";
        }
    });

    // Function to update user profile
    updateProfileBtn.addEventListener("click", () => {
        const user = auth.currentUser;
        const newDisplayName = userNameElement.textContent;
        const newPhotoURL = userProfilePicElement.src;
        const newBio = bioInputElement.value;

        updateProfile(user, {
            displayName: newDisplayName,
            photoURL: newPhotoURL,
            bio: newBio
        }).then(() => {
            // Profile updated successfully
            console.log("Profile updated successfully");
            // Redirect to profile.html
            window.location.href = "profile.html";
        }).catch((error) => {
            // An error occurred while updating profile
            console.error("Error updating profile:", error);
        });
    });


    </script>


<!--**********************************
Scripts
***********************************-->
<script src="assets/js/jquery.js"></script>
<script src="assets/vendor/bootstrap/js/bootstrap.bundle.min.js"></script>
<script src="assets/vendor/swiper/swiper-bundle.min.js"></script>
<script src="assets/vendor/imageuplodify/imageuploadify.js"></script>
<script src="assets/vendor/bootstrap-touchspin/dist/jquery.bootstrap-touchspin.min.js"></script>
<script src="assets/js/dz.carousel.js"></script>
<script src="assets/js/settings.js"></script>
<script src="assets/js/custom.js"></script>
<script>
function readURL(input) {
if (input.files && input.files[0]) {
var reader = new FileReader();
reader.onload = function(e) {
$('#imagePreview').css('background-image', 'url('+e.target.result +')');
$('#imagePreview').hide();
$('#imagePreview').fadeIn(650);
}
reader.readAsDataURL(input.files[0]);
}
}
$("#imageUpload").change(function() {
readURL(this);
});
$('.remove-img').on('click', function() {
var imageUrl = "images/no-img-avatar.png";
$('.avatar-preview, #imagePreview').removeAttr('style');
$('#imagePreview').css('background-image', 'url(' + imageUrl + ')');
});
</script>
</body>
</html>
